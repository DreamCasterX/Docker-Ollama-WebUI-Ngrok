/* styles.css */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

body {
    background-color: #f5f5f5; /* 頁面整體背景色 */
    color: #333; /* 預設文字顏色 */
}

.container {
    max-width: 800px; /* 主要內容容器最大寬度 */
    margin: 30px auto; /* 上下邊距 30px，左右自動居中 */
    background-color: #ffffff; /* 容器背景為白色 */
    border-radius: 10px; /* 容器圓角 */
    box-shadow: 0 4px 15px rgba(0,0,0,0.1); /* 容器陰影 */
    overflow: hidden; /* 確保內部元素超出時被裁剪，以維持圓角效果 */
}

.header {
    text-align: center; /* 內部元素（如 H1）居中對齊 */
    padding: 25px 20px; /* Header 內邊距：上下 25px，左右 20px */
    border-bottom: 1px solid #eee; /* Header 底部加一條細分隔線 */
    margin-bottom: 0; /* 移除 header 底部外邊距，由後續容器控制間距 */
}

.header h1 {
    color: #2c3e50; /* H1 標題文字顏色 (深灰藍) */
    margin: 0 auto 8px auto; /* H1 外邊距：上下0，左右自動 (使其在 inline-block 狀態下也能被父層 text-align:center 影響)，底部 8px */
    font-size: 1.8em; /* H1 字體大小 */
    font-weight: 600; /* H1 字體粗細 */

    /* --- Logo 背景設定 --- */
    background-image: url('logo.png'); /* 設定背景圖片為 logo.png */
    background-repeat: no-repeat; /* 背景圖片不重複 */
    background-position: 15px center; /* Logo 位置：距離 H1 左邊框 15px，垂直居中 */
    background-size: 80px auto;       /* Logo 尺寸：寬度設為 80px，高度按比例自動縮放。
                                          (根據 Lenovo Logo 的常見比例，80px 寬時高度約為 18px)
                                          您可以根據您的 logo.png 實際觀感調整此數值。 */

    /* H1 左內邊距，為 Logo 留出空間。
       計算方式：Logo 左側偏移 (15px) + Logo 寬度 (80px) + Logo 與文字之間的間隔 (15px) = 110px */
    padding-left: 110px;

    min-height: 30px; /* H1 的最小高度，確保能容納 Logo (Logo 高度約 18px) 和文字 */
    line-height: 30px; /* H1 的行高，輔助文字在 H1 內垂直居中 */

    display: inline-block; /* 使 H1 元素寬度適應其內容（包括 Logo 和文字），
                              並允許 .header 的 text-align: center 將整個 H1 區塊居中 */
    text-align: left;      /* H1 內部的文字（在左內邊距之後的區域）靠左對齊 */
}

.header p {
    color: #555; /* Header 中副標題文字顏色 */
    font-size: 0.9em; /* 副標題字體大小 */
    margin: 0; /* 移除副標題的預設外邊距 */
}

/* API 金鑰和聊天容器的通用頂部內邊距 */
#api-key-container,
#chat-container {
    padding-top: 20px;
}

#api-key-container {
    padding: 20px 30px 30px 30px; /* API 金鑰容器內邊距：上20，左右下30 */
    text-align: center; /* 文字居中 */
}

#api-key-container h2 {
    margin-bottom: 15px; /* 標題底部外邊距 */
    color: #2c3e50; /* 標題顏色 */
}

.input-group {
    display: flex; /* 輸入框和按鈕使用 flex 佈局 */
    margin-top: 20px; /* 輸入組頂部外邊距 */
}

.input-group input {
    flex: 1; /* 輸入框佔據剩餘空間 */
    padding: 12px; /* 輸入框內邊距 */
    border: 1px solid #ddd; /* 輸入框邊框 */
    border-radius: 4px 0 0 4px; /* 輸入框左側圓角 */
    font-size: 16px; /* 字體大小 */
}

.input-group button {
    padding: 12px 20px; /* 按鈕內邊距 */
    background-color: #3498db; /* 按鈕背景色 (藍色) */
    color: white; /* 按鈕文字顏色 */
    border: none; /* 無邊框 */
    border-radius: 0 4px 4px 0; /* 按鈕右側圓角 */
    cursor: pointer; /* 滑鼠指標為手型 */
    font-size: 16px; /* 字體大小 */
    transition: background-color 0.3s; /* 背景色過渡效果 */
}

.input-group button:hover {
    background-color: #2980b9; /* 按鈕滑鼠懸停時背景色加深 */
}

#chat-container {
    height: 500px; /* 聊天容器高度，可依需求調整 */
    display: flex;
    flex-direction: column; /* 內部元素垂直排列 */
    padding: 20px 0 0 0; /* 頂部內邊距20px，其餘由子元素控制 */
}

#chat-messages {
    flex: 1; /* 聊天訊息區域佔據剩餘垂直空間 */
    overflow-y: auto; /* 內容超出時顯示垂直滾動條 */
    padding: 0 20px 20px 20px; /* 內邊距：左右下20px */
}

.message {
    margin-bottom: 15px; /* 每條訊息底部外邊距 */
    display: flex; /* 使用 flex 佈局 */
}

.message.user {
    justify-content: flex-end; /* 用戶訊息靠右對齊 */
}

.message-content {
    padding: 12px 16px; /* 訊息內容內邊距 */
    border-radius: 18px; /* 訊息氣泡圓角 */
    max-width: 70%; /* 訊息內容最大寬度 */
    word-wrap: break-word; /* 長單詞自動換行 */
}

.user .message-content {
    background-color: #3498db; /* 用戶訊息背景色 (藍色) */
    color: white; /* 用戶訊息文字顏色 */
    border-bottom-right-radius: 4px; /* 右下角調整為較小的圓角，形成氣泡感 */
}

.system .message-content {
    background-color: #f1f1f1; /* 系統訊息背景色 (淺灰色) */
    color: #333; /* 系統訊息文字顏色 */
    border-bottom-left-radius: 4px; /* 左下角調整為較小的圓角 */
}

.input-area {
    display: flex; /* 輸入區域使用 flex 佈局 */
    padding: 15px 20px; /* 輸入區域內邊距：上下15px，左右20px */
    border-top: 1px solid #eee; /* 輸入區域頂部邊框 */
}

.input-area textarea {
    flex: 1; /* 輸入框佔據剩餘空間 */
    padding: 12px; /* 輸入框內邊距 */
    border: 1px solid #ddd; /* 輸入框邊框 */
    border-radius: 4px; /* 輸入框圓角 */
    resize: none; /* 禁止調整輸入框大小 */
    height: 50px; /* 輸入框預設高度 */
    font-size: 16px; /* 字體大小 */
}

.input-area button {
    margin-left: 10px; /* 發送按鈕左側外邊距 */
    padding: 0 20px; /* 按鈕內邊距 (上下0，左右20) */
    background-color: #3498db; /* 按鈕背景色 (藍色) */
    color: white; /* 按鈕文字顏色 */
    border: none; /* 無邊框 */
    border-radius: 4px; /* 按鈕圓角 */
    cursor: pointer; /* 滑鼠指標為手型 */
    font-size: 16px; /* 字體大小 */
    transition: background-color 0.3s; /* 背景色過渡效果 */
}

.input-area button:hover {
    background-color: #2980b9; /* 按鈕滑鼠懸停時背景色加深 */
}

.hidden {
    display: none !important; /* 隱藏元素的樣式 */
}

/* Loading 指示器樣式 (原 script.js 會添加 'message' 和 'system' class) */
.loading-dots {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 10px 0; /* 給予 loading dots 垂直空間 */
}

.loading-dots span {
    width: 8px; /* Loading 點的大小 */
    height: 8px;
    margin: 0 4px; /* 點之間的間距 */
    background-color: #3498db; /* 點的顏色 (與按鈕一致) */
    border-radius: 50%; /* 圓形 */
    animation: bounce 1.4s infinite ease-in-out both; /* 動畫效果 */
}

/* Loading 動畫延遲，製造錯落感 */
.loading-dots span:nth-child(1) {
    animation-delay: -0.32s;
}
.loading-dots span:nth-child(2) {
    animation-delay: -0.16s;
}
/* nth-child(3) animation-delay is 0s (or not set explicitly for 'bounce' ) */

@keyframes bounce { /* Loading 點的跳動動畫 */
  0%, 80%, 100% {
    transform: scale(0);
  } 40% {
    transform: scale(1.0);
  }
}

.error {
    color: #e74c3c; /* 錯誤訊息文字顏色 (紅色) */
    margin-top: 10px; /* 頂部外邊距 */
    font-size: 0.9em; /* 字體大小 */
}
